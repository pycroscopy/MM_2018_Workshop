

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pycroscopy.processing.cluster &mdash; pycroscopy 0.60.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pycroscopy.processing.contrib" href="pycroscopy.processing.contrib.html" />
    <link rel="prev" title="pycroscopy.processing" href="../pycroscopy.processing.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> pycroscopy
          

          
            
            <img src="../../_static/logo_v01.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.60.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">Pycroscopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../external_guides.html">Tutorials on Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../package_organization.html">Package Organization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html">Examples &amp; Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translators.html">Data Translators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../papers_conferences.html">Papers / Conferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits.html#acknowledgements">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whats_new.html">What’s New</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../api.html#package-structure">Package Structure</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../api.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycroscopy.analysis.html">pycroscopy.analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycroscopy.io.html">pycroscopy.io</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../pycroscopy.processing.html">pycroscopy.processing</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../pycroscopy.processing.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pycroscopy.viz.html">pycroscopy.viz</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pycroscopy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../api.html">API Reference</a> &raquo;</li>
        
          <li><a href="../pycroscopy.processing.html">pycroscopy.processing</a> &raquo;</li>
        
      <li>pycroscopy.processing.cluster</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/_autosummary/_autosummary/pycroscopy.processing.cluster.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pycroscopy.processing.cluster">
<span id="pycroscopy-processing-cluster"></span><h1>pycroscopy.processing.cluster<a class="headerlink" href="#module-pycroscopy.processing.cluster" title="Permalink to this headline">¶</a></h1>
<p>Created on Tue Jan 05 07:55:56 2016</p>
<p>&#64;author: Suhas Somnath, Chris Smith</p>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pycroscopy.processing.cluster.reorder_clusters" title="pycroscopy.processing.cluster.reorder_clusters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reorder_clusters</span></code></a>(labels,&nbsp;mean_response[,&nbsp;…])</td>
<td>Reorders clusters by the distances between the clusters</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pycroscopy.processing.cluster.Cluster" title="pycroscopy.processing.cluster.Cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cluster</span></code></a>(h5_main,&nbsp;estimator[,&nbsp;num_comps])</td>
<td>Pycroscopy wrapper around the sklearn.cluster classes.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pycroscopy.processing.cluster.Cluster">
<em class="property">class </em><code class="descname">Cluster</code><span class="sig-paren">(</span><em>h5_main</em>, <em>estimator</em>, <em>num_comps=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pycroscopy/processing/cluster.html#Cluster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycroscopy.processing.cluster.Cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Pycroscopy wrapper around the sklearn.cluster classes.</p>
<p>Constructs the Cluster object
:param h5_main: Main dataset with ancillary spectroscopic, position indices and values datasets
:type h5_main: HDF5 dataset object
:param estimator: configured clustering algorithm to be applied to the data
:type estimator: sklearn.cluster estimator
:param num_comps: Number of features / spectroscopic indices to be used to cluster the data. Default = all
:type num_comps: (optional) unsigned int
:param args and kwargs:
:type args and kwargs: arguments to be passed to the estimator</p>
<dl class="method">
<dt id="pycroscopy.processing.cluster.Cluster.compute">
<code class="descname">compute</code><span class="sig-paren">(</span><em>rearrange_clusters=True</em>, <em>override=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pycroscopy/processing/cluster.html#Cluster.compute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycroscopy.processing.cluster.Cluster.compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Clusters the hdf5 dataset and calculates mean response for each cluster (by calling test() if it has
not already been called), and writes the labels and mean response back to the h5 file.</p>
<p>Consider calling test_on_subset() to check results before writing to file. Results are deleted from memory
upon writing to the HDF5 file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rearrange_clusters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. Default = True</em>) – Whether or not the clusters should be re-ordered by relative distances between the mean response</li>
<li><strong>override</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. default = False</em>) – Set to true to recompute results if prior results are available. Else, returns existing results</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>h5_group</strong> – Reference to the group that contains the clustering results</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">HDF5 Group reference</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycroscopy.processing.cluster.Cluster.delete_results">
<code class="descname">delete_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pycroscopy/processing/cluster.html#Cluster.delete_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycroscopy.processing.cluster.Cluster.delete_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes results from memory.</p>
</dd></dl>

<dl class="method">
<dt id="pycroscopy.processing.cluster.Cluster.test">
<code class="descname">test</code><span class="sig-paren">(</span><em>rearrange_clusters=True</em>, <em>override=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pycroscopy/processing/cluster.html#Cluster.test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycroscopy.processing.cluster.Cluster.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Clusters the hdf5 dataset and calculates mean response for each cluster. This function does NOT write results to
the hdf5 file. Call compute() to  write to the file. Handles complex, compound datasets such that the
mean response vector for each cluster matrix is of the same data-type as the input matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rearrange_clusters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. Default = True</em>) – Whether or not the clusters should be re-ordered by relative distances between the mean response</li>
<li><strong>override</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. default = False</em>) – Set to true to recompute results if prior results are available. Else, returns existing results</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>labels</strong> (<em>1D unsigned int array</em>) – Array of cluster labels as obtained from the fit</li>
<li><strong>mean_response</strong> (<em>2D numpy array</em>) – Array of the mean response for each cluster arranged as [cluster number, response]</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycroscopy.processing.cluster.Cluster.use_partial_computation">
<code class="descname">use_partial_computation</code><span class="sig-paren">(</span><em>h5_partial_group=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pycroscopy.processing.cluster.Cluster.use_partial_computation" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the necessary parameters from the provided h5 group to resume computation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>h5_partial_group</strong> (<em>h5py.Datagroup object</em>) – Datagroup containing partially computed results</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pycroscopy.processing.cluster.reorder_clusters">
<code class="descname">reorder_clusters</code><span class="sig-paren">(</span><em>labels</em>, <em>mean_response</em>, <em>transform_function=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pycroscopy/processing/cluster.html#reorder_clusters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycroscopy.processing.cluster.reorder_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorders clusters by the distances between the clusters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>labels</strong> (<em>1D unsigned int numpy array</em>) – Labels for the clusters</li>
<li><strong>mean_response</strong> (<em>2D numpy array</em>) – Mean response of each cluster arranged as [cluster , features]</li>
<li><strong>transform_function</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function that will convert the mean_response into real values</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>new_labels</strong> (<em>1D unsigned int numpy array</em>) – Labels for the clusters arranged by distances</li>
<li><strong>new_mean_response</strong> (<em>2D numpy array</em>) – Mean response of each cluster arranged as [cluster , features]</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pycroscopy.processing.contrib.html" class="btn btn-neutral float-right" title="pycroscopy.processing.contrib" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../pycroscopy.processing.html" class="btn btn-neutral" title="pycroscopy.processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Suhas Somnath, Chris Smith, Stephen Jesse, Numan Laanait.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.60.2',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>